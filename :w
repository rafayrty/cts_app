<x-dynamic-component
  :component="$getFieldWrapperView()"
  :id="$getId()"
  :label="$getLabel()"
  :label-sr-only="$isLabelHidden()"
  :helper-text="$getHelperText()"
  :hint="$getHint()"
  :hint-action="$getHintAction()"
  :hint-color="$getHintColor()"
  :hint-icon="$getHintIcon()"
  :required="$isRequired()"
  :state-path="$getStatePath()">

    <div x-data="{ state: $wire.entangle('{{ $getStatePath() }}').defer }">
      <div x-data="handler()">
<table class="table table-bordered align-items-center table-sm">
  <thead class="thead-light">
   <tr>
     <th>#</th>
     <th>Text Feild 1</th>
     <th>Text Feild 2</th>
     <th>Remove</th>
    </tr>
  </thead>
  <tbody>
    <template x-for="(field, index) in fields" :key="index">
     <tr>
      <td x-text="index + 1"></td>
      <td><input x-model="field.txt1" type="text" name="txt1[]" class="form-control"></td>
      <td><input x-model="field.txt2" type="text" name="txt2[]" class="form-control"></td>
       <td><button type="button" class="btn btn-danger btn-small" @click="removeField(index)">&times;</button></td>
    </tr>
   </template>
  </tbody>
  <tfoot>
     <tr>
       <td colspan="4" class="text-right">
    </tr>
  </tfoot>
</table>
<button type="button" class="btn btn-info" @click="addNewField()">+ Add Row</button>
      </div>
        {{ var_dump($getOptions()) }}
        <!-- If There are Options -->
        @if (count($getOptions()) > 0)
            <h1 class="text-center font-semibold text-3xl my-4">Editing PDF Page # {{ $getOptions()['page_number'] + 1 }}
            </h1>
            @php
                $width = pt2px(json_decode($getOptions()['dimensions'], true)['width']);
                $height = pt2px(json_decode($getOptions()['dimensions'], true)['height']);
            @endphp

            <div id="editor-pdf" style="position:relative;overflow:auto;">
                <div style="width:{{ $width }}px;height:{{ $height }}px;margin:0 auto">
                      {{--  Image Of The Page  --}}
                    <img draggable="false"
                        style="height:100%;width:100%;max-width:none;"
                        src="{{ $getOptions()['page'] }}" />
                </div>
            </div>
        @endif
    </div>
</x-dynamic-component>
<script>
function handler() {
    return {
      fields: [],
      addNewField() {
          this.fields.push({
              txt1: '',
              txt2: ''
           });
        },
        removeField(index) {
           this.fields.splice(index, 1);
         }
      }
 }

</script>
